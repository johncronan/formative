{% load widget_tweaks %}
{% load form_block %}

{% with ltypes=block.form.label_class.LabelStyle %}
{% with label=labels|get_by_style:ltypes.VERTICAL %}
{% if label %}
  <div class="rp-label-cell mdc-layout-grid__cell
              mdc-layout-grid__cell--span-8-tablet
              mdc-layout-grid__cell--span-8-desktop">
    {{ label.text }}
  </div>
{% endif %}
{% endwith %}

<div class="rp-layout-cell-fill mdc-layout-grid__cell
            mdc-layout-grid__cell--span-{{ block.span }}
            mdc-layout-grid__cell--span-{{ block.tablet_span }}-tablet
            mdc-layout-grid__cell--span-{{ block.desktop_span }}-desktop">

{% with types=block.InputType %}
{% if block.type == types.TEXT or block.type == types.NUMERIC %}
  {% with label=labels|get_by_style:ltypes.WIDGET %}
  <div class="mdc-text-field mdc-text-field--outlined">
    {% render_field field class+="mdc-text-field__input" %}
    <div class="mdc-notched-outline">
      <div class="mdc-notched-outline__leading"></div>
      {% if label %}
      <div class="mdc-notched-outline__notch">
        <label for="id_{{ field.name }}" class="mdc-floating-label">
          {{ label.text }}
        </label>
      </div>
      {% endif %}
      <div class="mdc-notched-outline__trailing"></div>
    </div>
  </div>
  {% endwith %}
  {% if field.errors %}
  <div class="mdc-text-field-helper-line">
    <div class="mdc-text-field-helper-text
                mdc-text-field-helper-text--persistent
                mdc-text-field-helper-text--validation-msg">
      {{ field.errors.0|escape }}
    </div>
  </div>
  {% endif %}
{% elif block.type == types.CHOICE %}

{% elif block.type == types.BOOLEAN %}

{% endif %}
{% endwith %}

{% endwith %}
</div>
