{% load patched_widget_tweaks %}
{% load form_block %}

{% with styles=form_block.form.label_class.LabelStyle %}
{% with label=labels|get_by_style:styles.VERTICAL %}
{% if label %}
  {% include "./label_vertical.html" %}
{% endif %}
{% endwith %}
{% endwith %}

{% if items %}
  <div class="rp-collection-table mdc-data-table mdc-layout-grid__cell
              mdc-layout-grid__cell--span-8-tablet
              mdc-layout-grid__cell--span-10-desktop">
    <div class="mdc-data-table__table-container">
      <table class="mdc-data-table__table">
        <tbody class="mdc-data-table__content">
        {% for item in items %}
          <tr class="mdc-data-table__row">
          {% if form_block.items_sortable %}
            <td class="rp-sort-handle-cell mdc-data-table__cell">
            
            </td>
          {% endif %}
          {% for name in form_block.collection_fields %}
            <td class="mdc-data-table__cell">
              {{ name }}
            </td>
          {% endfor %}
          {% if form_block.has_file %}
            <td class="rp-file-cell mdc-data-table__cell">
              file
            </td>
          {% endif %}
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endif %}

  <button class="rp-collection-button mdc-button mdc-button--outlined
                mdc-layout-grid__cell mdc-layout-grid__cell--span-2
                mdc-layout-grid__cell-span-3-tablet
                mdc-layout-grid__cell-span-3-desktop"
         type="button" name="save" value="save">
    <span class="mdc-button__ripple"></span>
    <span class="mdc-button__focus-ring"></span>
    <span class="mdc-button__label">{{ form_block.button_text }}</span>
  </button>
